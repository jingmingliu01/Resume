<!DOCTYPE html>
<html>
  <body>
    <button id="start">开始处理</button>
    <script>
      document.getElementById("start").onclick = () => {
        let arr = Array.from({ length: 5e6 }, (_, i) => i); // 500万元素
        console.log("开始处理");

        // 一次性处理所有
        arr.forEach(num => {
          let x = num * num;
        });

        console.log("处理完成");
      };
    </script>
  </body>
</html>